<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QCheck_util (less-power.Test_lib.QCheck_util)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">less-power</a> &#x00BB; <a href="../index.html">Test_lib</a> &#x00BB; QCheck_util</nav><header class="odoc-preamble"><h1>Module <code><span>Test_lib.QCheck_util</span></code></h1><p>Helpers for QCheck-based tests.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-default_computation_timeout"><a href="#val-default_computation_timeout" class="anchor"></a><code><span><span class="keyword">val</span> default_computation_timeout : <span class="xref-unresolved">Mtime</span>.span</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_user_fail"><a href="#val-is_user_fail" class="anchor"></a><code><span><span class="keyword">val</span> is_user_fail : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Workaround to check if an exception is <code>QCheck2.Test.User_fail</code>, since that exception is not exposed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_equal"><a href="#val-assert_equal" class="anchor"></a><code><span><span class="keyword">val</span> assert_equal : 
  <span><span class="optlabel">?context</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?timeout</span>:<span class="xref-unresolved">Mtime</span>.span <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">eq</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">printers</span>:<span>(<span>(<span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> string)</span> * <span>(<span><span class="type-var">'e</span> <span class="arrow">&#45;&gt;</span></span> string)</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'f</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'g</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'h</span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Check if values are equal. Report a failure message as <code>Error</code> if not. This monadic form is useful for properties that check nested functions, i.e. calling submission code contains functions that should once again be called.</p><p>Note: with <code>timeout</code>, uses <a href="../../Common/Util/index.html#val-timeout_unix"><code>Common.Util.timeout_unix</code></a>, and thus nesting (within <code>expected_f</code> or <code>actual_f</code>) will not work as expected.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">context</span> <p>Add this string as context before failure message</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">eq</span> <p>Check for equality, return <code>Some x</code> if equal or <code>None</code> if not</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The result of <code>eq</code>, if not <code>None</code>, as <code>Ok</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift_eq"><a href="#val-lift_eq" class="anchor"></a><code><span><span class="keyword">val</span> lift_eq : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span>unit option</span></span></code></div><div class="spec-doc"><p>Turn an equality function into the form required for <a href="#val-assert_equal"><code>assert_equal</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_equal'"><a href="#val-assert_equal'" class="anchor"></a><code><span><span class="keyword">val</span> assert_equal' : 
  <span><span class="optlabel">?eq</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span>unit option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">printer</span>:<span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?context</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?timeout</span>:<span class="xref-unresolved">Mtime</span>.span <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-assert_equal"><code>assert_equal</code></a>, but when the types to compare are the same.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_reportf_notrace"><a href="#val-fail_reportf_notrace" class="anchor"></a><code><span><span class="keyword">val</span> fail_reportf_notrace : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_report_notrace"><a href="#val-fail_report_notrace" class="anchor"></a><code><span><span class="keyword">val</span> fail_report_notrace : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-report_result"><a href="#val-report_result" class="anchor"></a><code><span><span class="keyword">val</span> report_result : <span><span><span>(<span class="type-var">'a</span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>After performing one or more comparisons with <a href="#val-assert_equal"><code>assert_equal</code></a>, report a failure as a QCheck failure, or just return <code>true</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_test_singles"><a href="#val-make_test_singles" class="anchor"></a><code><span><span class="keyword">val</span> make_test_singles : 
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?print</span>:<span><span class="type-var">'a</span> <span class="xref-unresolved">QCheck2</span>.Print.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a0</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">QCheck2</span>.Test.t</span></code></div><div class="spec-doc"><p>Check a property against multiple, fixed inputs.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_test_single"><a href="#val-make_test_single" class="anchor"></a><code><span><span class="keyword">val</span> make_test_single : 
  <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?print</span>:<span><span class="type-var">'a</span> <span class="xref-unresolved">QCheck2</span>.Print.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">QCheck2</span>.Test.t</span></code></div><div class="spec-doc"><p>Check a property against a fixed input.</p></div></div></div></body></html>
