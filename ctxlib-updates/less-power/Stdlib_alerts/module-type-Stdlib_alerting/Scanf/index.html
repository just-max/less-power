<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Scanf (less-power.Stdlib_alerts.Stdlib_alerting.Scanf)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">less-power</a> &#x00BB; <a href="../../index.html">Stdlib_alerts</a> &#x00BB; <a href="../index.html">Stdlib_alerting</a> &#x00BB; Scanf</nav><header class="odoc-preamble"><h1>Module <code><span>Stdlib_alerting.Scanf</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Scanning"><a href="#module-Scanning" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Scanning/index.html">Scanning</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-scanner"><a href="#type-scanner" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'c, 'd) scanner</span></span><span> =
  <span><span><span>(<span class="type-var">'a</span>, <a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>, <span class="type-var">'d</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'c</span></span></code></div><div class="spec-doc"><p>The type of formatted input scanners: <code>('a, 'b, 'c, 'd) scanner</code> is the type of a formatted input function that reads from some formatted input channel according to some format string; more precisely, if <code>scan</code> is some formatted input function, then <code>scan
    ic fmt f</code> applies <code>f</code> to all the arguments specified by format string <code>fmt</code>, when <code>scan</code> has read those arguments from the <a href="Scanning/index.html#type-in_channel"><code>Scanning.in_channel</code></a> formatted input channel <code>ic</code>.</p><p>For instance, the <a href="#val-scanf"><code>Scanf.scanf</code></a> function below has type <code>('a, 'b, 'c, 'd) scanner</code>, since it is a formatted input function that reads from <code>Scanning.stdin</code>: <code>scanf fmt f</code> applies <code>f</code> to the arguments specified by <code>fmt</code>, reading those arguments from <code>Stdlib.stdin</code> as expected.</p><p>If the format <code>fmt</code> has some <code>%r</code> indications, the corresponding formatted input functions must be provided <em>before</em> receiver function <code>f</code>. For instance, if <code>read_elem</code> is an input function for values of type <code>t</code>, then <code>bscanf ic &quot;%r;&quot; read_elem f</code> reads a value <code>v</code> of type <code>t</code> followed by a <code>';'</code> character, and returns <code>f v</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.10</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-scanner_opt"><a href="#type-scanner_opt" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'c, 'd) scanner_opt</span></span><span> =
  <span><span><span>(<span class="type-var">'a</span>, <a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> option</span>, <span class="type-var">'d</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Scan_failure"><a href="#exception-Scan_failure" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Scan_failure</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>When the input can not be read according to the format string specification, formatted input functions typically raise exception <code>Scan_failure</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sscanf"><a href="#val-sscanf" class="anchor"></a><code><span><span class="keyword">val</span> sscanf : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner">scanner</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-bscanf"><code>Scanf.bscanf</code></a>, but reads from the given string.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sscanf_opt"><a href="#val-sscanf_opt" class="anchor"></a><code><span><span class="keyword">val</span> sscanf_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner_opt">scanner_opt</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-sscanf"><code>Scanf.sscanf</code></a>, but returns <code>None</code> in case of scanning failure.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ksscanf"><a href="#val-ksscanf" class="anchor"></a><code><span><span class="keyword">val</span> ksscanf : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner">scanner</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-kscanf"><code>Scanf.kscanf</code></a> but reads from the given string.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.02</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sscanf_format"><a href="#val-sscanf_format" class="anchor"></a><code><span><span class="keyword">val</span> sscanf_format : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'g</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'g</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-bscanf_format"><code>Scanf.bscanf_format</code></a>, but reads from the given string.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.09</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-format_from_string"><a href="#val-format_from_string" class="anchor"></a><code><span><span class="keyword">val</span> format_from_string : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span></span></code></div><div class="spec-doc"><p><code>format_from_string s fmt</code> converts a string argument to a format string, according to the given format string <code>fmt</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Scan_failure"><code>Scan_failure</code></a> <p>if <code>s</code>, considered as a format string, does not have the same type as <code>fmt</code>.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.10</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unescaped"><a href="#val-unescaped" class="anchor"></a><code><span><span class="keyword">val</span> unescaped : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>unescaped s</code> return a copy of <code>s</code> with escape sequences (according to the lexical conventions of OCaml) replaced by their corresponding special characters. More precisely, <code>Scanf.unescaped</code> has the following property: for all string <code>s</code>, <code>Scanf.unescaped (String.escaped s) = s</code>.</p><p>Always return a copy of the argument, even if there is no escape sequence in the argument.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Scan_failure"><code>Scan_failure</code></a> <p>if <code>s</code> is not properly escaped (i.e. <code>s</code> has invalid escape sequences or special characters that are not properly escaped). For instance, <code>Scanf.unescaped &quot;\&quot;&quot;</code> will fail.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.00</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bscanf"><a href="#val-bscanf" class="anchor"></a><code><span><span class="keyword">val</span> bscanf : <span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner">scanner</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bscanf_opt"><a href="#val-bscanf_opt" class="anchor"></a><code><span><span class="keyword">val</span> bscanf_opt : <span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner_opt">scanner_opt</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-bscanf"><code>Scanf.bscanf</code></a>, but returns <code>None</code> in case of scanning failure.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.0</li></ul><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scanf"><a href="#val-scanf" class="anchor"></a><code><span><span class="keyword">val</span> scanf : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner">scanner</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-bscanf"><code>Scanf.bscanf</code></a>, but reads from the predefined formatted input channel <code>Scanf.Scanning.stdin</code> that is connected to <code>Stdlib.stdin</code>.</p><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scanf_opt"><a href="#val-scanf_opt" class="anchor"></a><code><span><span class="keyword">val</span> scanf_opt : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner_opt">scanner_opt</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-scanf"><code>Scanf.scanf</code></a>, but returns <code>None</code> in case of scanning failure.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.0</li></ul><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kscanf"><a href="#val-kscanf" class="anchor"></a><code><span><span class="keyword">val</span> kscanf : 
  <span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-scanner">scanner</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-bscanf"><code>Scanf.bscanf</code></a>, but takes an additional function argument <code>ef</code> that is called in case of error: if the scanning process or some conversion fails, the scanning function aborts and calls the error handling function <code>ef</code> with the formatted input channel and the exception that aborted the scanning process as arguments.</p><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bscanf_format"><a href="#val-bscanf_format" class="anchor"></a><code><span><span class="keyword">val</span> bscanf_format : 
  <span><a href="Scanning/index.html#type-in_channel">Scanning.in_channel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>)</span> <a href="../index.html#type-format6">format6</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'g</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'g</span></span></code></div><div class="spec-doc"><p><code>bscanf_format ic fmt f</code> reads a format string token from the formatted input channel <code>ic</code>, according to the given format string <code>fmt</code>, and applies <code>f</code> to the resulting format string value.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Scan_failure"><code>Scan_failure</code></a> <p>if the format string value read does not have the same type as <code>fmt</code>.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.09</li></ul><ul class="at-tags"><li class="alert"><span class="at-tag">alert</span> input_output Input/output is not permitted</li></ul></div></div></details></div></div></body></html>
